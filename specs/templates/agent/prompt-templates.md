---
id: claude-code-prompts
title: Claude Code プロンプト・テンプレート集
owner: Tech Lead / Product Manager
status: template
version: 1.0.0
---

# Claude Code プロンプト・テンプレート集

## 🎯 基本方針

- **具体的で実行可能**な指示を心がける
- **仕様書ベース**の一括実装を推奨
- **並列実行**でClaude Codeの能力を最大活用
- **品質担保**（TDD/BDD）を前提とする

## 📋 プロンプト・カテゴリ

### 1. 🚀 新規プロジェクト開始

#### 仕様書ベース実装

```
「specs/examples/[プロジェクト名].spec.md の仕様に基づいて、
フルスタックアプリケーションを実装してください。

要件:
- FastAPI (Python) + React (TypeScript) 構成
- Gherkin受入テストから開始（TDD）
- 型安全性確保（Pydantic ↔ TypeScript）
- 並列実行で効率的に開発
- リント・テスト・フォーマット自動実行」
```

#### MVD（最小文書セット）ベース

```
「以下の文書セットから、MVPアプリケーションを構築してください：

必須文書:
- Project Charter: specs/templates/mvd/project-charter.md
- PRD: specs/templates/mvd/prd.md
- User Stories: specs/templates/mvd/user-story.md
- Acceptance Criteria: specs/templates/mvd/acceptance-criteria.feature
- API Spec: specs/templates/mvd/api-spec.yaml

実装方針:
- TodoWriteツールでタスク分解・進捗管理
- Task tool活用で複雑な部分は自動化
- 品質ゲート（カバレッジ80%、リント合格）必須」
```

### 2. 🔧 機能追加・拡張

#### ストーリーベース開発

```
「ユーザーストーリー [US-XXX] を実装してください：

コンテキスト:
- Story: [具体的なユーザーストーリー]
- Acceptance: [Gherkinファイルパス]
- API: [関連OpenAPI仕様]

実装要求:
- 受入テスト100%合格
- 既存機能への影響なし
- パフォーマンス劣化なし
- セキュリティ基準維持」
```

#### 機能横断的な追加

```
「認証・認可システムを既存アプリに追加してください：

要件:
- JWT トークンベース認証
- ロールベースアクセス制御（RBAC）
- セッション管理
- パスワードリセット機能
- 2要素認証（2FA）対応

技術制約:
- 既存APIの破壊的変更禁止
- パフォーマンス影響最小化
- セキュリティベストプラクティス準拠（OWASP）
- 全機能の受入テスト作成」
```

### 3. 🐛 バグ修正・デバッグ

#### バグ修正プロンプト

```
「以下のバグを修正してください：

問題状況:
- 症状: [具体的な不具合内容]
- 再現手順: [ステップバイステップ]
- 期待される動作: [正しい動作]
- エラーログ: [ログの内容]

修正要求:
- 根本原因の特定・修正
- 再発防止のテスト追加
- 影響範囲の調査・検証
- 修正理由の文書化（ADR）」
```

#### パフォーマンス問題

```
「パフォーマンス問題を調査・改善してください：

現状:
- 問題箇所: [具体的な画面・API]
- パフォーマンス指標: [現在の値]
- 目標値: [改善目標]

改善アプローチ:
- ボトルネック特定（プロファイリング）
- データベースクエリ最適化
- フロントエンド最適化（レンダリング、バンドル）
- キャッシュ戦略見直し
- 改善効果の定量的測定」
```

### 4. 🏗️ リファクタリング・品質改善

#### コード品質向上

```
「コードベース全体の品質を向上させてください：

改善ポイント:
- テストカバレッジ90%以上
- 循環複雑度 < 10
- 重複コード除去
- アーキテクチャクリーンアップ
- ドキュメント整備

制約:
- 既存機能の動作保証
- 段階的リファクタリング（一度に変更しすぎない）
- 全テスト合格維持
- パフォーマンス劣化なし」
```

#### レガシーコード改善

```
「レガシーコードをモダンな実装に移行してください：

現状:
- 対象: [具体的なファイル・モジュール]
- 問題点: [技術的負債の内容]

移行計画:
- 段階的移行戦略
- 互換性維持（Adapter Pattern）
- テストファーストアプローチ
- 新旧実装の並行稼働期間設定
- 移行完了後の旧コード除去」
```

### 5. 🚀 デプロイ・運用対応

#### CI/CD パイプライン

```
「CI/CDパイプラインを構築してください：

要件:
- GitHub Actions使用
- 品質ゲート（テスト・リント・セキュリティチェック）
- 段階的デプロイ（dev → staging → production）
- 自動ロールバック機能
- パフォーマンス監視

成果物:
- .github/workflows/ci.yml
- .github/workflows/deploy.yml
- deployment/に各環境設定
- 監視・アラート設定」
```

#### 運用監視対応

```
「本番運用を見据えた監視・ログ基盤を構築してください：

監視項目:
- アプリケーションメトリクス（レスポンス時間、エラー率）
- インフラメトリクス（CPU、メモリ、ディスク）
- ビジネスメトリクス（ユーザー数、転換率）

実装内容:
- 構造化ログ出力
- メトリクス収集（Prometheus/Grafana）
- アラート設定
- ダッシュボード作成
- 障害対応ランブック」
```

### 6. 🔍 調査・分析

#### コードベース調査

```
「このプロジェクトのアーキテクチャと特徴を調査・分析してください：

調査項目:
- 技術スタック・ライブラリ構成
- ディレクトリ構造・設計パターン
- データフロー・API設計
- テスト戦略・品質メトリクス
- セキュリティ対策状況

出力:
- アーキテクチャ概要（C4図含む）
- 技術的強み・課題
- 改善提案
- 開発効率化のヒント」
```

#### 技術選定支援

```
「[機能要件]を実現するための技術選定を支援してください：

検討事項:
- 候補技術・ライブラリの比較
- メリット・デメリット分析
- パフォーマンス・スケーラビリティ評価
- 学習コスト・保守性考慮
- プロジェクト制約との適合性

推奨事項:
- 第1候補・第2候補の提示
- 選定理由の文書化（ADR）
- POC（概念実証）の実装
- 移行コスト見積もり」
```

## 📝 効果的なプロンプト作成のコツ

### ✅ Good Examples

#### 具体的で測定可能

```
❌ 悪い例: 「パフォーマンスを改善して」
✅ 良い例: 「API レスポンス時間を200ms以内に、ページロード時間を2秒以内に改善して」
```

#### コンテキスト豊富

```
❌ 悪い例: 「バグを直して」
✅ 良い例: 「ユーザー登録フォームで、無効なメールアドレス入力時にエラーメッセージが表示されないバグを修正して。期待動作：バリデーションエラー表示、フォーム送信阻止」
```

#### 制約条件明示

```
❌ 悪い例: 「認証機能を追加して」
✅ 良い例: 「JWT認証を追加。制約：既存APIの破壊的変更なし、パフォーマンス10%以内の劣化、OWASP準拠」
```

### ❌ Avoid These Patterns

#### 曖昧な指示

```
❌ 「何か作って」
❌ 「いい感じに」
❌ 「よろしく」
```

#### 過度に段階的

```
❌ 「まずファイルを作って、次に関数を定義して、その後に...」
✅ 「以下の仕様でユーザー管理機能を実装して」（Claude Codeが自動分解）
```

#### 技術詳細の過指定

```
❌ 「useState を使って、useEffect の中で、axios.get を...」
✅ 「ユーザー一覧表示機能を実装。既存のパターンに従って」
```

## 🎯 プロンプト成功の秘訣

1. **仕様書ファースト**: 文書化された要件があると品質が大幅向上
2. **並列思考**: 「AとBとCを同時に」という指示でClaude Codeの真価発揮
3. **品質基準明示**: テスト・リント・セキュリティの基準を最初に設定
4. **継続改善**: 成功したプロンプトパターンをチーム共有

---

**これらのテンプレートを活用することで、Claude Code との協業効率が劇的に向上しま
す。**
